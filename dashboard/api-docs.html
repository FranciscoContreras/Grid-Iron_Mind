<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grid Iron Mind API Documentation</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .docs-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            background: var(--bg-primary);
        }

        .docs-header {
            text-align: center;
            margin-bottom: 60px;
            padding-bottom: 30px;
            border-bottom: 2px solid var(--border);
        }

        .docs-header h1 {
            font-size: 42px;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .docs-header .version {
            font-size: 18px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .docs-nav {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 40px;
            position: sticky;
            top: 20px;
        }

        .docs-nav h3 {
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .docs-nav ul {
            list-style: none;
        }

        .docs-nav li {
            margin: 8px 0;
        }

        .docs-nav a {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .docs-nav a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

        .docs-section {
            margin-bottom: 60px;
            padding: 30px;
            background: var(--bg-secondary);
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }

        .docs-section h2 {
            font-size: 32px;
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        .docs-section h3 {
            font-size: 24px;
            color: var(--text-primary);
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .docs-section h4 {
            font-size: 18px;
            color: var(--primary);
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .endpoint {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .method {
            padding: 6px 12px;
            border-radius: 4px;
            font-weight: 700;
            font-size: 12px;
            color: white;
        }

        .method.get { background: #28a745; }
        .method.post { background: #007bff; }
        .method.put { background: #ffc107; color: #000; }
        .method.delete { background: #dc3545; }

        .endpoint-path {
            font-family: monospace;
            font-size: 16px;
            color: var(--text-primary);
            font-weight: 600;
        }

        .auth-required {
            padding: 4px 10px;
            background: var(--warning);
            color: #000;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        .endpoint-description {
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        .param-table th {
            background: var(--bg-secondary);
            padding: 10px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--border);
        }

        .param-table td {
            padding: 10px;
            border-bottom: 1px solid var(--border);
        }

        .param-name {
            font-family: monospace;
            color: var(--primary);
            font-weight: 600;
        }

        .param-type {
            font-family: monospace;
            color: var(--text-secondary);
            font-size: 12px;
        }

        .required {
            color: var(--danger);
            font-weight: 700;
        }

        .optional {
            color: var(--text-secondary);
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            margin: 15px 0;
        }

        .code-block pre {
            margin: 0;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 4px solid #0c5460;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        body.dark-mode .info-box {
            background: #0c5460;
            color: #d1ecf1;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #856404;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        body.dark-mode .warning-box {
            background: #856404;
            color: #fff3cd;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 6px;
            border: 1px solid var(--border);
        }

        .feature-card h4 {
            margin-top: 0;
            color: var(--primary);
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="docs-container">
        <a href="/" class="back-link">‚Üê Back to Dashboard</a>

        <div class="docs-header">
            <h1>‚ö° Grid Iron Mind API</h1>
            <p class="version">Version 1.0.0 | RESTful JSON API</p>
            <p style="color: var(--text-secondary); margin-top: 10px;">
                Comprehensive NFL data API with player statistics, team information, game data, weather conditions,
                career history, and AI-powered insights.
            </p>
        </div>

        <!-- Table of Contents -->
        <div class="docs-nav">
            <h3>üìã Table of Contents</h3>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#authentication">Authentication</a></li>
                <li><a href="#rate-limiting">Rate Limiting</a></li>
                <li><a href="#response-format">Response Format</a></li>
                <li><a href="#endpoints-players">Players Endpoints</a></li>
                <li><a href="#endpoints-teams">Teams Endpoints</a></li>
                <li><a href="#endpoints-games">Games Endpoints</a></li>
                <li><a href="#endpoints-stats">Stats Endpoints</a></li>
                <li><a href="#endpoints-career">Career Endpoints</a></li>
                <li><a href="#endpoints-ai">AI Endpoints</a></li>
                <li><a href="#endpoints-admin">Admin Endpoints</a></li>
                <li><a href="#data-sources">Data Sources</a></li>
                <li><a href="#error-codes">Error Codes</a></li>
            </ul>
        </div>

        <!-- Overview Section -->
        <section id="overview" class="docs-section">
            <h2>üìñ Overview</h2>
            <p>
                Grid Iron Mind is a production-grade NFL data API providing comprehensive access to player statistics,
                team information, historical game data, weather conditions, career trajectories, and AI-powered analytics.
            </p>

            <h3>Key Features</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üèà Player Data</h4>
                    <p>Complete player profiles with biographical info, physical stats, draft history, and career timelines.</p>
                </div>
                <div class="feature-card">
                    <h4>üèüÔ∏è Team Information</h4>
                    <p>All 32 NFL teams with stadium details, conference/division data, and current rosters.</p>
                </div>
                <div class="feature-card">
                    <h4>üìä Historical Stats</h4>
                    <p>Season-by-season statistics dating back to rookie years with game-level granularity.</p>
                </div>
                <div class="feature-card">
                    <h4>üå¶Ô∏è Weather Data</h4>
                    <p>Game-day weather conditions including temperature, wind speed, venue type, and surface.</p>
                </div>
                <div class="feature-card">
                    <h4>ü§ñ AI Insights</h4>
                    <p>Machine learning predictions for game outcomes, player performance, and analytics.</p>
                </div>
                <div class="feature-card">
                    <h4>‚ö° Fast & Cached</h4>
                    <p>Redis caching with 1-hour TTL for optimal performance and reduced latency.</p>
                </div>
            </div>

            <h3>Base URL</h3>
            <div class="code-block">
                <pre>https://your-production-url.herokuapp.com/api/v1</pre>
            </div>

            <h3>Technology Stack</h3>
            <ul>
                <li><strong>Language:</strong> Go 1.21+</li>
                <li><strong>Database:</strong> PostgreSQL with pgx/v5</li>
                <li><strong>Cache:</strong> Redis (optional)</li>
                <li><strong>Data Sources:</strong> ESPN API, NFLverse API</li>
                <li><strong>Hosting:</strong> Heroku</li>
            </ul>
        </section>

        <!-- Authentication Section -->
        <section id="authentication" class="docs-section">
            <h2>üîê Authentication</h2>
            <p>
                Most endpoints are publicly accessible. AI endpoints require an API key for authentication.
            </p>

            <h3>Public Endpoints</h3>
            <p>The following endpoints do not require authentication:</p>
            <ul>
                <li>All <code>/api/v1/players</code> endpoints</li>
                <li>All <code>/api/v1/teams</code> endpoints</li>
                <li>All <code>/api/v1/games</code> endpoints</li>
                <li>All <code>/api/v1/stats</code> endpoints</li>
            </ul>

            <h3>API Key Authentication</h3>
            <p>AI endpoints require an API key passed in the <code>X-API-Key</code> header:</p>

            <div class="code-block">
                <pre>curl -H "X-API-Key: your_api_key_here" \
     https://api.example.com/api/v1/ai/query</pre>
            </div>

            <div class="info-box">
                <strong>‚ÑπÔ∏è Note:</strong> Contact the administrator to generate an API key using the
                <code>POST /api/v1/admin/keys/generate</code> endpoint.
            </div>
        </section>

        <!-- Rate Limiting Section -->
        <section id="rate-limiting" class="docs-section">
            <h2>‚è±Ô∏è Rate Limiting</h2>

            <h3>Standard Endpoints</h3>
            <p><strong>Limit:</strong> 100 requests per minute per IP address</p>
            <p>Applied to all public endpoints (players, teams, games, stats).</p>

            <h3>AI Endpoints</h3>
            <p><strong>Limit:</strong> 10 requests per minute per API key</p>
            <p>Stricter limits for computationally expensive AI operations.</p>

            <h3>Rate Limit Headers</h3>
            <div class="code-block">
                <pre>X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1640000000</pre>
            </div>

            <div class="warning-box">
                <strong>‚ö†Ô∏è Warning:</strong> Exceeding rate limits returns <code>429 Too Many Requests</code>.
                Implement exponential backoff for retry logic.
            </div>
        </section>

        <!-- Response Format Section -->
        <section id="response-format" class="docs-section">
            <h2>üì¶ Response Format</h2>

            <p>All responses are JSON formatted with a consistent structure:</p>

            <h3>Success Response</h3>
            <div class="code-block">
                <pre>{
  "success": true,
  "data": {
    // Response data here
  },
  "meta": {
    "total": 100,
    "page": 1,
    "limit": 20,
    "offset": 0
  }
}</pre>
            </div>

            <h3>Error Response</h3>
            <div class="code-block">
                <pre>{
  "success": false,
  "error": {
    "code": "INVALID_REQUEST",
    "message": "Missing required parameter: player_id"
  }
}</pre>
            </div>

            <h3>Pagination</h3>
            <p>List endpoints support pagination via query parameters:</p>
            <ul>
                <li><code>limit</code> - Number of items per page (default: 20, max: 100)</li>
                <li><code>offset</code> - Number of items to skip (default: 0)</li>
            </ul>
        </section>

        <!-- Players Endpoints -->
        <section id="endpoints-players" class="docs-section">
            <h2>üë§ Players Endpoints</h2>

            <!-- List Players -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/players</span>
                </div>
                <p class="endpoint-description">
                    Retrieve a paginated list of NFL players with optional filtering by position, status, and team.
                </p>

                <h4>Query Parameters</h4>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Required</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="param-name">position</span></td>
                            <td><span class="param-type">string</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Filter by position (QB, RB, WR, TE, etc.)</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">status</span></td>
                            <td><span class="param-type">string</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Filter by status (active, injured, inactive)</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">team</span></td>
                            <td><span class="param-type">uuid</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Filter by team ID</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">limit</span></td>
                            <td><span class="param-type">integer</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Number of results (default: 20, max: 100)</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">offset</span></td>
                            <td><span class="param-type">integer</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Pagination offset (default: 0)</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Example Request</h4>
                <div class="code-block">
                    <pre>GET /api/v1/players?position=QB&status=active&limit=10</pre>
                </div>

                <h4>Example Response</h4>
                <div class="code-block">
                    <pre>{
  "success": true,
  "data": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "name": "Patrick Mahomes",
      "position": "QB",
      "jersey_number": 15,
      "status": "active",
      "height_inches": 75,
      "weight_pounds": 230,
      "college": "Texas Tech",
      "draft_year": 2017,
      "draft_round": 1,
      "draft_pick": 10,
      "years_pro": 7,
      "rookie_year": 2017,
      "birth_city": "Tyler",
      "birth_state": "TX",
      "espn_athlete_id": "3139477",
      "headshot_url": "https://a.espncdn.com/...",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ],
  "meta": {
    "total": 45,
    "limit": 10,
    "offset": 0
  }
}</pre>
                </div>
            </div>

            <!-- Get Player by ID -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/players/{id}</span>
                </div>
                <p class="endpoint-description">
                    Retrieve detailed information for a specific player by their UUID.
                </p>

                <h4>Path Parameters</h4>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Required</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="param-name">id</span></td>
                            <td><span class="param-type">uuid</span></td>
                            <td><span class="required">Required</span></td>
                            <td>Player UUID</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Example Request</h4>
                <div class="code-block">
                    <pre>GET /api/v1/players/550e8400-e29b-41d4-a716-446655440000</pre>
                </div>
            </div>
        </section>

        <!-- Teams Endpoints -->
        <section id="endpoints-teams" class="docs-section">
            <h2>üèüÔ∏è Teams Endpoints</h2>

            <!-- List Teams -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/teams</span>
                </div>
                <p class="endpoint-description">
                    Retrieve all 32 NFL teams with stadium and location information.
                </p>

                <h4>Example Response</h4>
                <div class="code-block">
                    <pre>{
  "success": true,
  "data": [
    {
      "id": "660e8400-e29b-41d4-a716-446655440000",
      "name": "Kansas City Chiefs",
      "abbreviation": "KC",
      "city": "Kansas City",
      "state": "MO",
      "conference": "AFC",
      "division": "West",
      "stadium": "GEHA Field at Arrowhead Stadium",
      "stadium_latitude": 39.0489,
      "stadium_longitude": -94.4839,
      "venue_type": "outdoor",
      "venue_surface": "grass",
      "venue_capacity": 76416,
      "espn_team_id": "12",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}</pre>
                </div>
            </div>

            <!-- Get Team by ID -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/teams/{id}</span>
                </div>
                <p class="endpoint-description">
                    Retrieve detailed information for a specific team by UUID.
                </p>
            </div>

            <!-- Get Team Players -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/teams/{id}/players</span>
                </div>
                <p class="endpoint-description">
                    Get the current roster for a specific team.
                </p>

                <h4>Example Request</h4>
                <div class="code-block">
                    <pre>GET /api/v1/teams/660e8400-e29b-41d4-a716-446655440000/players</pre>
                </div>
            </div>
        </section>

        <!-- Games Endpoints -->
        <section id="endpoints-games" class="docs-section">
            <h2>üèà Games Endpoints</h2>

            <!-- List Games -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/games</span>
                </div>
                <p class="endpoint-description">
                    Retrieve games with optional filters for season, week, team, and status. Includes weather data and venue information.
                </p>

                <h4>Query Parameters</h4>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Required</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="param-name">season</span></td>
                            <td><span class="param-type">integer</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Filter by season year (e.g., 2024)</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">week</span></td>
                            <td><span class="param-type">integer</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Filter by week number (1-18)</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">team</span></td>
                            <td><span class="param-type">uuid</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Filter by team ID (home or away)</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">status</span></td>
                            <td><span class="param-type">string</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Filter by status (scheduled, in_progress, final)</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Example Response</h4>
                <div class="code-block">
                    <pre>{
  "success": true,
  "data": [
    {
      "id": "770e8400-e29b-41d4-a716-446655440000",
      "nfl_game_id": "401547420",
      "season": 2024,
      "week": 15,
      "game_date": "2024-12-21T20:15:00Z",
      "home_team_id": "660e8400-e29b-41d4-a716-446655440000",
      "away_team_id": "770e8400-e29b-41d4-a716-446655440001",
      "home_team": "Kansas City Chiefs",
      "away_team": "Buffalo Bills",
      "home_score": 27,
      "away_score": 24,
      "status": "final",
      "weather_temp": 32,
      "weather_condition": "Clear",
      "weather_wind_speed": 12,
      "weather_humidity": 65,
      "venue_name": "GEHA Field at Arrowhead Stadium",
      "venue_city": "Kansas City",
      "venue_type": "outdoor",
      "venue_surface": "grass",
      "created_at": "2024-12-15T00:00:00Z"
    }
  ],
  "meta": {
    "total": 256,
    "limit": 20,
    "offset": 0
  }
}</pre>
                </div>
            </div>

            <!-- Get Game by ID -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/games/{id}</span>
                </div>
                <p class="endpoint-description">
                    Retrieve detailed information for a specific game including weather and venue data.
                </p>
            </div>

            <!-- Get Game Stats -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/games/{id}/stats</span>
                </div>
                <p class="endpoint-description">
                    Get player statistics for a specific game.
                </p>

                <h4>Example Response</h4>
                <div class="code-block">
                    <pre>{
  "success": true,
  "data": [
    {
      "id": "880e8400-e29b-41d4-a716-446655440000",
      "player_id": "550e8400-e29b-41d4-a716-446655440000",
      "player_name": "Patrick Mahomes",
      "position": "QB",
      "game_id": "770e8400-e29b-41d4-a716-446655440000",
      "team_id": "660e8400-e29b-41d4-a716-446655440000",
      "season": 2024,
      "week": 15,
      "passing_yards": 320,
      "passing_touchdowns": 3,
      "passing_interceptions": 1,
      "passing_completions": 28,
      "passing_attempts": 38,
      "rushing_yards": 25,
      "rushing_touchdowns": 0,
      "rushing_attempts": 4,
      "receiving_yards": 0,
      "receiving_touchdowns": 0,
      "receiving_receptions": 0,
      "receiving_targets": 0
    }
  ]
}</pre>
                </div>
            </div>
        </section>

        <!-- Stats Endpoints -->
        <section id="endpoints-stats" class="docs-section">
            <h2>üìä Stats Endpoints</h2>

            <!-- Stats Leaders -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/stats/leaders</span>
                </div>
                <p class="endpoint-description">
                    Get statistical leaders by category for a given season.
                </p>

                <h4>Query Parameters</h4>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Required</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="param-name">category</span></td>
                            <td><span class="param-type">string</span></td>
                            <td><span class="required">Required</span></td>
                            <td>Stat category (passing_yards, passing_touchdowns, rushing_yards, rushing_touchdowns, receiving_yards, receiving_touchdowns)</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">season</span></td>
                            <td><span class="param-type">integer</span></td>
                            <td><span class="required">Required</span></td>
                            <td>Season year</td>
                        </tr>
                        <tr>
                            <td><span class="param-name">limit</span></td>
                            <td><span class="param-type">integer</span></td>
                            <td><span class="optional">Optional</span></td>
                            <td>Number of leaders (default: 10)</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Example Request</h4>
                <div class="code-block">
                    <pre>GET /api/v1/stats/leaders?category=passing_yards&season=2024&limit=10</pre>
                </div>

                <h4>Example Response</h4>
                <div class="code-block">
                    <pre>{
  "success": true,
  "data": [
    {
      "player_id": "550e8400-e29b-41d4-a716-446655440000",
      "player_name": "Patrick Mahomes",
      "position": "QB",
      "jersey_number": 15,
      "team_id": "660e8400-e29b-41d4-a716-446655440000",
      "team_abbr": "KC",
      "category": "passing_yards",
      "total_stat": 4839,
      "games_played": 17
    }
  ]
}</pre>
                </div>
            </div>
        </section>

        <!-- Career Endpoints -->
        <section id="endpoints-career" class="docs-section">
            <h2>üìà Career & History Endpoints</h2>

            <!-- Player Career Stats -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/players/{id}/career</span>
                </div>
                <p class="endpoint-description">
                    Get complete career statistics for a player, including season-by-season breakdown and team history.
                    <strong>Cached for 1 hour.</strong>
                </p>

                <h4>Example Response</h4>
                <div class="code-block">
                    <pre>{
  "success": true,
  "data": {
    "player_id": "550e8400-e29b-41d4-a716-446655440000",
    "total_seasons": 7,
    "team_history": [
      {
        "team_id": "660e8400-e29b-41d4-a716-446655440000",
        "team_name": "Kansas City Chiefs",
        "position": "QB",
        "season_start": 2017,
        "season_end": null,
        "is_current": true
      }
    ],
    "career_stats": [
      {
        "season": 2024,
        "team_name": "Kansas City Chiefs",
        "games_played": 17,
        "passing_yards": 4839,
        "passing_tds": 38,
        "rushing_yards": 358,
        "rushing_tds": 2,
        "receptions": 0,
        "receiving_yards": 0,
        "receiving_tds": 0
      }
    ]
  }
}</pre>
                </div>
            </div>

            <!-- Player Team History -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/players/{id}/history</span>
                </div>
                <p class="endpoint-description">
                    Get team history for a player showing all teams they've played for throughout their career.
                </p>
            </div>
        </section>

        <!-- AI Endpoints -->
        <section id="endpoints-ai" class="docs-section">
            <h2>ü§ñ AI Endpoints</h2>

            <div class="warning-box">
                <strong>‚ö†Ô∏è Authentication Required:</strong> All AI endpoints require an API key via the <code>X-API-Key</code> header.
                Rate limited to 10 requests/minute.
            </div>

            <!-- AI Game Prediction -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/ai/predict/game/{gameId}</span>
                    <span class="auth-required">üîë AUTH REQUIRED</span>
                </div>
                <p class="endpoint-description">
                    Predict game outcomes using machine learning models based on historical data, weather, and team performance.
                </p>
            </div>

            <!-- AI Player Prediction -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/ai/predict/player/{playerId}</span>
                    <span class="auth-required">üîë AUTH REQUIRED</span>
                </div>
                <p class="endpoint-description">
                    Predict player performance for upcoming games based on historical trends, opponent strength, and conditions.
                </p>
            </div>

            <!-- AI Player Insights -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/ai/insights/player/{playerId}</span>
                    <span class="auth-required">üîë AUTH REQUIRED</span>
                </div>
                <p class="endpoint-description">
                    Generate AI-powered insights and analysis for a player's performance, strengths, and weaknesses.
                </p>
            </div>

            <!-- AI Natural Query -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/ai/query</span>
                    <span class="auth-required">üîë AUTH REQUIRED</span>
                </div>
                <p class="endpoint-description">
                    Process natural language queries about NFL data and return intelligent responses.
                </p>

                <h4>Request Body</h4>
                <div class="code-block">
                    <pre>{
  "query": "Who are the top 5 quarterbacks by passing yards in 2024?"
}</pre>
                </div>
            </div>
        </section>

        <!-- Admin Endpoints -->
        <section id="endpoints-admin" class="docs-section">
            <h2>‚öôÔ∏è Admin Endpoints</h2>

            <p>Admin endpoints for data synchronization and management. These trigger background jobs.</p>

            <!-- Sync Teams -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/sync/teams</span>
                </div>
                <p class="endpoint-description">Sync all NFL teams from ESPN API.</p>
            </div>

            <!-- Sync Rosters -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/sync/rosters</span>
                </div>
                <p class="endpoint-description">Sync current rosters for all teams from ESPN API.</p>
            </div>

            <!-- Sync Games -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/sync/games</span>
                </div>
                <p class="endpoint-description">Sync current season games and scores.</p>
            </div>

            <!-- Full Sync -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/sync/full</span>
                </div>
                <p class="endpoint-description">Perform full sync: teams ‚Üí rosters ‚Üí games (in sequence).</p>
            </div>

            <!-- Historical Season Sync -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/sync/historical/season</span>
                </div>
                <p class="endpoint-description">Sync historical games for a specific season.</p>

                <h4>Request Body</h4>
                <div class="code-block">
                    <pre>{
  "year": 2023
}</pre>
                </div>
            </div>

            <!-- Multiple Seasons Sync -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/sync/historical/seasons</span>
                </div>
                <p class="endpoint-description">Sync historical games for multiple seasons.</p>

                <h4>Request Body</h4>
                <div class="code-block">
                    <pre>{
  "start_year": 2020,
  "end_year": 2023
}</pre>
                </div>
            </div>

            <!-- NFLverse Stats Sync -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/sync/nflverse/stats</span>
                </div>
                <p class="endpoint-description">Enrich player stats with NFLverse data including fantasy points and advanced metrics.</p>

                <h4>Request Body</h4>
                <div class="code-block">
                    <pre>{
  "season": 2024
}</pre>
                </div>
            </div>

            <!-- NFLverse Schedule Sync -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/sync/nflverse/schedule</span>
                </div>
                <p class="endpoint-description">Enrich games with weather and venue data from NFLverse.</p>

                <h4>Request Body</h4>
                <div class="code-block">
                    <pre>{
  "season": 2024
}</pre>
                </div>
            </div>

            <!-- NFLverse Next Gen Stats -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/sync/nflverse/nextgen</span>
                </div>
                <p class="endpoint-description">Sync Next Gen Stats (advanced tracking metrics).</p>

                <h4>Request Body</h4>
                <div class="code-block">
                    <pre>{
  "season": 2024,
  "stat_type": "passing"
}</pre>
                </div>

                <p><strong>Valid stat types:</strong> passing, rushing, receiving</p>
            </div>

            <!-- Generate API Key -->
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/admin/keys/generate</span>
                </div>
                <p class="endpoint-description">Generate a new API key for accessing AI endpoints.</p>

                <h4>Request Body</h4>
                <div class="code-block">
                    <pre>{
  "name": "Dashboard API Key",
  "description": "Unlimited access for dashboard"
}</pre>
                </div>
            </div>
        </section>

        <!-- Data Sources Section -->
        <section id="data-sources" class="docs-section">
            <h2>üóÇÔ∏è Data Sources</h2>

            <h3>ESPN API</h3>
            <p>Primary data source for:</p>
            <ul>
                <li>Player biographical information</li>
                <li>Team information and logos</li>
                <li>Current season games and scores</li>
                <li>Player headshots and images</li>
            </ul>

            <h3>NFLverse API</h3>
            <p>Secondary enrichment source for:</p>
            <ul>
                <li>Advanced player statistics (EPA, CPOE, etc.)</li>
                <li>Fantasy points (Standard, PPR, Half-PPR)</li>
                <li>Weather data (temperature, wind, humidity)</li>
                <li>Venue details (surface type, capacity)</li>
                <li>Next Gen Stats (tracking data)</li>
                <li>Play-by-play data</li>
            </ul>

            <div class="info-box">
                <strong>‚ÑπÔ∏è Data Freshness:</strong> Games and scores are synced in real-time during game days.
                Player stats and career data are cached for 1 hour. Historical data is static once imported.
            </div>
        </section>

        <!-- Error Codes Section -->
        <section id="error-codes" class="docs-section">
            <h2>‚ùå Error Codes</h2>

            <table class="param-table">
                <thead>
                    <tr>
                        <th>HTTP Status</th>
                        <th>Error Code</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>400</td>
                        <td><span class="param-name">INVALID_REQUEST</span></td>
                        <td>Malformed request or missing required parameters</td>
                    </tr>
                    <tr>
                        <td>401</td>
                        <td><span class="param-name">UNAUTHORIZED</span></td>
                        <td>Missing or invalid API key</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td><span class="param-name">NOT_FOUND</span></td>
                        <td>Resource not found</td>
                    </tr>
                    <tr>
                        <td>429</td>
                        <td><span class="param-name">RATE_LIMIT_EXCEEDED</span></td>
                        <td>Too many requests, rate limit exceeded</td>
                    </tr>
                    <tr>
                        <td>500</td>
                        <td><span class="param-name">INTERNAL_ERROR</span></td>
                        <td>Internal server error</td>
                    </tr>
                    <tr>
                        <td>503</td>
                        <td><span class="param-name">SERVICE_UNAVAILABLE</span></td>
                        <td>Service temporarily unavailable</td>
                    </tr>
                </tbody>
            </table>

            <h3>Error Response Example</h3>
            <div class="code-block">
                <pre>{
  "success": false,
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "Rate limit exceeded. Please retry after 60 seconds."
  }
}</pre>
            </div>
        </section>

        <div style="text-align: center; margin-top: 60px; padding-top: 40px; border-top: 2px solid var(--border);">
            <p style="color: var(--text-secondary);">
                Built with ‚ù§Ô∏è for NFL data enthusiasts and AI developers
            </p>
            <p style="color: var(--text-secondary); margin-top: 10px;">
                <a href="/" style="color: var(--primary);">‚Üê Back to Dashboard</a> |
                <a href="/health" style="color: var(--primary);">API Health</a>
            </p>
        </div>
    </div>

    <script>
        // Dark mode sync
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }
    </script>
</body>
</html>