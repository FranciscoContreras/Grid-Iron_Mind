<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grid Iron Mind API v2 - Complete Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #10b981;
            --dark: #0f172a;
            --darker: #020617;
            --light: #f8fafc;
            --gray: #64748b;
            --border: #e2e8f0;
            --success: #22c55e;
            --warning: #f59e0b;
            --error: #ef4444;
            --code-bg: #1e293b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header .version {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .header p {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 800px;
        }

        .quick-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .quick-link {
            background: var(--light);
            padding: 15px 20px;
            border-radius: 12px;
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .quick-link:hover {
            background: white;
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.2);
        }

        /* Main content */
        .content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .section {
            margin-bottom: 50px;
        }

        .section h2 {
            font-size: 2rem;
            color: var(--dark);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--primary);
        }

        .section h3 {
            font-size: 1.5rem;
            color: var(--primary);
            margin: 30px 0 15px 0;
        }

        .section h4 {
            font-size: 1.2rem;
            color: var(--dark);
            margin: 20px 0 10px 0;
        }

        /* Feature grid */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, var(--light) 0%, white 100%);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid var(--border);
            transition: all 0.3s;
        }

        .feature-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.15);
        }

        .feature-card .icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .feature-card h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .feature-card p {
            color: var(--gray);
            font-size: 0.95rem;
        }

        /* Endpoint card */
        .endpoint {
            background: var(--light);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary);
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .method {
            padding: 5px 12px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }

        .method.get {
            background: #dbeafe;
            color: #1e40af;
        }

        .method.post {
            background: #dcfce7;
            color: #166534;
        }

        .endpoint-url {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark);
        }

        .endpoint-desc {
            color: var(--gray);
            margin-bottom: 15px;
        }

        /* Code blocks */
        .code-block {
            background: var(--code-bg);
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .code-block .comment {
            color: #94a3b8;
        }

        .code-block .string {
            color: #86efac;
        }

        .code-block .number {
            color: #fbbf24;
        }

        .code-block .key {
            color: #60a5fa;
        }

        /* Parameters table */
        .params-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        .params-table th,
        .params-table td {
            text-align: left;
            padding: 12px;
            border-bottom: 1px solid var(--border);
        }

        .params-table th {
            background: var(--light);
            color: var(--dark);
            font-weight: 600;
        }

        .params-table code {
            background: var(--code-bg);
            color: #86efac;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge.required {
            background: #fee2e2;
            color: #991b1b;
        }

        .badge.optional {
            background: #e0e7ff;
            color: #3730a6;
        }

        /* Info boxes */
        .info-box {
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 4px solid;
        }

        .info-box.info {
            background: #dbeafe;
            border-color: #3b82f6;
            color: #1e40af;
        }

        .info-box.success {
            background: #dcfce7;
            border-color: #22c55e;
            color: #166534;
        }

        .info-box.warning {
            background: #fef3c7;
            border-color: #f59e0b;
            color: #92400e;
        }

        .info-box.tip {
            background: #f3e8ff;
            border-color: #a855f7;
            color: #6b21a8;
        }

        .info-box strong {
            display: block;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        /* Try it section */
        .try-it {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .try-it h3 {
            color: white;
            margin-bottom: 15px;
        }

        .try-it-form {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .try-it-form input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
        }

        .try-it-form button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            background: white;
            color: var(--primary);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .try-it-form button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 255, 255, 0.3);
        }

        .try-it-result {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
        }

        /* Sidebar nav */
        .sidebar {
            position: fixed;
            right: 20px;
            top: 120px;
            width: 250px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .sidebar h3 {
            font-size: 1rem;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .sidebar a {
            display: block;
            padding: 8px 12px;
            color: var(--gray);
            text-decoration: none;
            border-radius: 6px;
            margin-bottom: 5px;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .sidebar a:hover {
            background: var(--light);
            color: var(--primary);
        }

        .sidebar a.active {
            background: var(--primary);
            color: white;
        }

        @media (max-width: 1200px) {
            .sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .features {
                grid-template-columns: 1fr;
            }

            .try-it-form {
                flex-direction: column;
            }
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h3>📚 Quick Navigation</h3>
        <a href="#overview">Overview</a>
        <a href="#features">Key Features</a>
        <a href="#getting-started">Getting Started</a>
        <a href="#authentication">Authentication</a>
        <a href="#endpoints">Endpoints</a>
        <a href="#players">Players</a>
        <a href="#teams">Teams</a>
        <a href="#games">Games</a>
        <a href="#stats">Statistics</a>
        <a href="#standings">Standings</a>
        <a href="#defense">Defense</a>
        <a href="#weather">Weather</a>
        <a href="#examples">Code Examples</a>
        <a href="#changelog">Changelog</a>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🏈 Grid Iron Mind API</h1>
            <span class="version">v2.0</span>
            <p>The most comprehensive NFL data API with real-time stats, advanced analytics, play-by-play data, and AI-powered insights. Built for developers who demand speed, accuracy, and depth.</p>

            <div class="quick-links">
                <a href="#getting-started" class="quick-link">🚀 Quick Start</a>
                <a href="#endpoints" class="quick-link">📖 API Reference</a>
                <a href="#examples" class="quick-link">💻 Code Examples</a>
                <a href="https://nfl.wearemachina.com/api/v2/health" class="quick-link" target="_blank">🏥 API Status</a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="content">
            <!-- Overview -->
            <section id="overview" class="section">
                <h2>Overview</h2>
                <p>Grid Iron Mind API v2 is a production-ready RESTful API that provides comprehensive NFL data including players, teams, games, statistics, standings, weather conditions, and advanced analytics. Our API is designed for fantasy football apps, sports analytics platforms, betting applications, and NFL enthusiasts.</p>

                <div class="info-box info">
                    <strong>🎉 What's New in v2</strong>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>✨ Enhanced play-by-play data with EPA and WPA metrics</li>
                        <li>📊 Real-time team standings with playoff seeding</li>
                        <li>🎯 Comprehensive scoring plays tracking</li>
                        <li>⚡ Improved query performance with optimized indexes</li>
                        <li>🔒 Better error handling and validation</li>
                        <li>🌤️ Weather impact analysis for games</li>
                        <li>🏆 Defensive rankings and advanced defensive stats</li>
                    </ul>
                </div>
            </section>

            <!-- Key Features -->
            <section id="features" class="section">
                <h2>Key Features</h2>
                <div class="features">
                    <div class="feature-card">
                        <div class="icon">⚡</div>
                        <h4>Lightning Fast</h4>
                        <p>Sub-200ms response times with Redis caching and optimized PostgreSQL queries. Built to handle thousands of requests per second.</p>
                    </div>
                    <div class="feature-card">
                        <div class="icon">📊</div>
                        <h4>Comprehensive Data</h4>
                        <p>2,500+ players, 32 teams, complete game schedules, career stats, injury reports, and real-time play-by-play data.</p>
                    </div>
                    <div class="feature-card">
                        <div class="icon">🔄</div>
                        <h4>Real-Time Updates</h4>
                        <p>Live game scores, injury updates, and roster changes synced from ESPN and NFLverse data sources.</p>
                    </div>
                    <div class="feature-card">
                        <div class="icon">🎯</div>
                        <h4>Advanced Analytics</h4>
                        <p>EPA, WPA, Next Gen Stats, defensive rankings, and advanced metrics for deep football analysis.</p>
                    </div>
                    <div class="feature-card">
                        <div class="icon">🔒</div>
                        <h4>Rate Limiting</h4>
                        <p>Built-in rate limiting (100 req/min) with API key support for unlimited access. Enterprise-ready security.</p>
                    </div>
                    <div class="feature-card">
                        <div class="icon">📖</div>
                        <h4>RESTful Design</h4>
                        <p>Clean, intuitive endpoints with consistent JSON responses, pagination, and comprehensive error messages.</p>
                    </div>
                </div>
            </section>

            <!-- Getting Started -->
            <section id="getting-started" class="section">
                <h2>Getting Started</h2>

                <h3>Base URL</h3>
                <div class="code-block">https://nfl.wearemachina.com/api/v2</div>

                <h3>Making Your First Request</h3>
                <p>No authentication required for public endpoints. Just make a GET request:</p>

                <div class="code-block">
<span class="comment"># Get all NFL teams</span>
curl https://nfl.wearemachina.com/api/v2/teams

<span class="comment"># Get active players</span>
curl https://nfl.wearemachina.com/api/v2/players?status=active&limit=50

<span class="comment"># Get current season standings</span>
curl https://nfl.wearemachina.com/api/v2/standings?season=2025
                </div>

                <div class="try-it">
                    <h3>🎮 Try It Now</h3>
                    <p style="margin-bottom: 15px;">Test any endpoint directly from your browser:</p>
                    <div class="try-it-form">
                        <input type="text" id="tryEndpoint" placeholder="/teams" value="/teams">
                        <button onclick="tryEndpoint()">Send Request</button>
                    </div>
                    <div id="tryResult" class="try-it-result" style="display: none;"></div>
                </div>
            </section>

            <!-- Authentication -->
            <section id="authentication" class="section">
                <h2>Authentication</h2>
                <p>Most endpoints are public and require no authentication. Admin endpoints require an API key.</p>

                <h3>Public Access (No Key Required)</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>All GET endpoints (players, teams, games, stats, etc.)</li>
                    <li>Rate limit: 100 requests per minute</li>
                </ul>

                <h3>API Key Access</h3>
                <p>For admin endpoints and unlimited access, include your API key:</p>

                <div class="code-block">
<span class="comment"># Using X-API-Key header</span>
curl -H <span class="string">"X-API-Key: your_api_key_here"</span> \
  https://nfl.wearemachina.com/api/v2/admin/sync/teams

<span class="comment"># Using Authorization header</span>
curl -H <span class="string">"Authorization: Bearer your_api_key_here"</span> \
  https://nfl.wearemachina.com/api/v2/admin/sync/teams
                </div>

                <div class="info-box warning">
                    <strong>⚠️ Rate Limits</strong>
                    Standard rate limit is 100 requests per minute. If you need higher limits, contact us for an API key with unlimited access.
                </div>
            </section>

            <!-- Endpoints Section -->
            <section id="endpoints" class="section">
                <h2>API Endpoints</h2>

                <!-- Players -->
                <h3 id="players">👥 Players</h3>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/players</span>
                    </div>
                    <p class="endpoint-desc">Get all NFL players with filtering and pagination</p>

                    <h4>Query Parameters</h4>
                    <table class="params-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Required</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>position</code></td>
                                <td>string</td>
                                <td><span class="badge optional">optional</span></td>
                                <td>Filter by position (QB, RB, WR, TE, etc.)</td>
                            </tr>
                            <tr>
                                <td><code>team</code></td>
                                <td>string</td>
                                <td><span class="badge optional">optional</span></td>
                                <td>Filter by team abbreviation (SF, KC, BUF, etc.)</td>
                            </tr>
                            <tr>
                                <td><code>status</code></td>
                                <td>string</td>
                                <td><span class="badge optional">optional</span></td>
                                <td>Filter by status (active, inactive, injured)</td>
                            </tr>
                            <tr>
                                <td><code>search</code></td>
                                <td>string</td>
                                <td><span class="badge optional">optional</span></td>
                                <td>Search by player name</td>
                            </tr>
                            <tr>
                                <td><code>limit</code></td>
                                <td>integer</td>
                                <td><span class="badge optional">optional</span></td>
                                <td>Results per page (default: 50, max: 100)</td>
                            </tr>
                            <tr>
                                <td><code>offset</code></td>
                                <td>integer</td>
                                <td><span class="badge optional">optional</span></td>
                                <td>Pagination offset (default: 0)</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Example Response</h4>
                    <div class="code-block">{
  <span class="key">"data"</span>: [
    {
      <span class="key">"id"</span>: <span class="string">"uuid-here"</span>,
      <span class="key">"name"</span>: <span class="string">"Patrick Mahomes"</span>,
      <span class="key">"position"</span>: <span class="string">"QB"</span>,
      <span class="key">"team_id"</span>: <span class="string">"uuid-here"</span>,
      <span class="key">"jersey_number"</span>: <span class="number">15</span>,
      <span class="key">"height_inches"</span>: <span class="number">75</span>,
      <span class="key">"weight_pounds"</span>: <span class="number">230</span>,
      <span class="key">"college"</span>: <span class="string">"Texas Tech"</span>,
      <span class="key">"status"</span>: <span class="string">"active"</span>
    }
  ],
  <span class="key">"meta"</span>: {
    <span class="key">"total"</span>: <span class="number">2515</span>,
    <span class="key">"limit"</span>: <span class="number">50</span>,
    <span class="key">"offset"</span>: <span class="number">0</span>,
    <span class="key">"timestamp"</span>: <span class="string">"2025-10-02T12:00:00Z"</span>
  }
}</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/players/:id</span>
                    </div>
                    <p class="endpoint-desc">Get detailed information about a specific player</p>
                    <div class="code-block">curl https://nfl.wearemachina.com/api/v2/players/uuid-here</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/players/:id/career</span>
                    </div>
                    <p class="endpoint-desc">Get career statistics for a player across all seasons</p>
                    <div class="code-block">curl https://nfl.wearemachina.com/api/v2/players/uuid-here/career</div>
                </div>

                <!-- Teams -->
                <h3 id="teams">🏟️ Teams</h3>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/teams</span>
                    </div>
                    <p class="endpoint-desc">Get all 32 NFL teams with stadium information</p>

                    <h4>Example Response</h4>
                    <div class="code-block">{
  <span class="key">"data"</span>: [
    {
      <span class="key">"id"</span>: <span class="string">"uuid-here"</span>,
      <span class="key">"name"</span>: <span class="string">"Kansas City Chiefs"</span>,
      <span class="key">"abbreviation"</span>: <span class="string">"KC"</span>,
      <span class="key">"city"</span>: <span class="string">"Kansas City"</span>,
      <span class="key">"conference"</span>: <span class="string">"AFC"</span>,
      <span class="key">"division"</span>: <span class="string">"West"</span>,
      <span class="key">"stadium"</span>: <span class="string">"GEHA Field at Arrowhead Stadium"</span>,
      <span class="key">"stadium_capacity"</span>: <span class="number">76416</span>,
      <span class="key">"primary_color"</span>: <span class="string">"#E31837"</span>
    }
  ]
}</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/teams/:id</span>
                    </div>
                    <p class="endpoint-desc">Get detailed information about a specific team</p>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/teams/:id/players</span>
                    </div>
                    <p class="endpoint-desc">Get current roster for a team</p>
                </div>

                <!-- Games -->
                <h3 id="games">🏈 Games</h3>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/games</span>
                    </div>
                    <p class="endpoint-desc">Get games with filtering by season, week, team, and status</p>

                    <h4>Query Parameters</h4>
                    <table class="params-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>season</code></td>
                                <td>integer</td>
                                <td>NFL season year (e.g., 2025)</td>
                            </tr>
                            <tr>
                                <td><code>week</code></td>
                                <td>integer</td>
                                <td>Week number (1-18 for regular season)</td>
                            </tr>
                            <tr>
                                <td><code>team</code></td>
                                <td>string</td>
                                <td>Filter by team abbreviation</td>
                            </tr>
                            <tr>
                                <td><code>status</code></td>
                                <td>string</td>
                                <td>scheduled, in_progress, completed</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Example</h4>
                    <div class="code-block">curl "https://nfl.wearemachina.com/api/v2/games?season=2025&week=1"</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/games/:id</span>
                    </div>
                    <p class="endpoint-desc">Get detailed information about a specific game including scores and status</p>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/games/:id/scoring-plays</span>
                    </div>
                    <p class="endpoint-desc">Get all scoring plays for a game in chronological order</p>
                    <div class="info-box tip">
                        <strong>💡 New in v2</strong>
                        Comprehensive scoring plays with player details, play descriptions, and score progression.
                    </div>
                </div>

                <!-- Statistics -->
                <h3 id="stats">📈 Statistics</h3>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/stats/leaders</span>
                    </div>
                    <p class="endpoint-desc">Get statistical leaders by category</p>

                    <h4>Query Parameters</h4>
                    <table class="params-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Options</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>stat</code></td>
                                <td>passing_yards, rushing_yards, receiving_yards, passing_touchdowns, rushing_touchdowns, receiving_touchdowns</td>
                                <td>Statistical category</td>
                            </tr>
                            <tr>
                                <td><code>season</code></td>
                                <td>integer</td>
                                <td>Season year (default: 2025)</td>
                            </tr>
                            <tr>
                                <td><code>limit</code></td>
                                <td>integer</td>
                                <td>Number of leaders (max: 100)</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Example</h4>
                    <div class="code-block">curl "https://nfl.wearemachina.com/api/v2/stats/leaders?stat=passing_yards&season=2024&limit=10"</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/stats/game/:gameId</span>
                    </div>
                    <p class="endpoint-desc">Get team statistics for a specific game</p>
                </div>

                <!-- Standings -->
                <h3 id="standings">🏆 Standings</h3>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/standings</span>
                    </div>
                    <p class="endpoint-desc">Get team standings with playoff seeding and rankings</p>

                    <h4>Query Parameters</h4>
                    <table class="params-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>season</code></td>
                                <td>integer</td>
                                <td><span class="badge required">required</span> Season year</td>
                            </tr>
                            <tr>
                                <td><code>week</code></td>
                                <td>integer</td>
                                <td><span class="badge optional">optional</span> Specific week (default: latest)</td>
                            </tr>
                            <tr>
                                <td><code>conference</code></td>
                                <td>string</td>
                                <td><span class="badge optional">optional</span> AFC or NFC</td>
                            </tr>
                            <tr>
                                <td><code>division</code></td>
                                <td>string</td>
                                <td><span class="badge optional">optional</span> Division name</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box success">
                        <strong>✨ New in v2</strong>
                        Standings include division rank, conference rank, playoff seed, current streak, and complete split records (home/away/division/conference).
                    </div>

                    <h4>Example</h4>
                    <div class="code-block">curl "https://nfl.wearemachina.com/api/v2/standings?season=2025&conference=AFC"</div>
                </div>

                <!-- Defense -->
                <h3 id="defense">🛡️ Defensive Stats</h3>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/defense/rankings</span>
                    </div>
                    <p class="endpoint-desc">Get defensive rankings by various metrics</p>

                    <h4>Query Parameters</h4>
                    <table class="params-table">
                        <tbody>
                            <tr>
                                <td><code>season</code></td>
                                <td>Season year</td>
                            </tr>
                            <tr>
                                <td><code>metric</code></td>
                                <td>points_allowed, yards_allowed, turnovers_forced, sacks</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box tip">
                        <strong>💡 Pro Tip</strong>
                        Combine defensive rankings with weather data to analyze home-field advantage and weather impact on defensive performance.
                    </div>
                </div>

                <!-- Weather -->
                <h3 id="weather">🌤️ Weather</h3>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/weather/current</span>
                    </div>
                    <p class="endpoint-desc">Get current weather conditions for a stadium location</p>

                    <h4>Query Parameters</h4>
                    <table class="params-table">
                        <tbody>
                            <tr>
                                <td><code>lat</code></td>
                                <td>Latitude coordinate</td>
                            </tr>
                            <tr>
                                <td><code>lon</code></td>
                                <td>Longitude coordinate</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/weather/forecast</span>
                    </div>
                    <p class="endpoint-desc">Get weather forecast for upcoming games</p>
                </div>

                <!-- Health & Metrics -->
                <h3>🏥 Health & Metrics</h3>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/health</span>
                    </div>
                    <p class="endpoint-desc">Check API health status</p>
                    <div class="code-block">curl https://nfl.wearemachina.com/api/v2/health</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-url">/api/v2/metrics/database</span>
                    </div>
                    <p class="endpoint-desc">Get database metrics and connection pool stats</p>
                </div>
            </section>

            <!-- Code Examples -->
            <section id="examples" class="section">
                <h2>Code Examples</h2>

                <h3>JavaScript / Node.js</h3>
                <div class="code-block">
<span class="comment">// Fetch active quarterbacks</span>
<span class="key">async function</span> getActiveQBs() {
  <span class="key">const</span> response = <span class="key">await</span> fetch(
    <span class="string">'https://nfl.wearemachina.com/api/v2/players?position=QB&status=active'</span>
  );
  <span class="key">const</span> data = <span class="key">await</span> response.json();
  <span class="key">return</span> data.data;
}

<span class="comment">// Get current week's games</span>
<span class="key">async function</span> getCurrentWeekGames() {
  <span class="key">const</span> response = <span class="key">await</span> fetch(
    <span class="string">'https://nfl.wearemachina.com/api/v2/games?season=2025&week=5'</span>
  );
  <span class="key">const</span> data = <span class="key">await</span> response.json();
  <span class="key">return</span> data.data;
}
                </div>

                <h3>Python</h3>
                <div class="code-block">
<span class="key">import</span> requests

<span class="comment"># Get team standings</span>
<span class="key">def</span> get_standings(season, conference=<span class="key">None</span>):
    url = <span class="string">f"https://nfl.wearemachina.com/api/v2/standings"</span>
    params = {<span class="string">"season"</span>: season}
    <span class="key">if</span> conference:
        params[<span class="string">"conference"</span>] = conference

    response = requests.get(url, params=params)
    <span class="key">return</span> response.json()[<span class="string">"data"</span>]

<span class="comment"># Get stat leaders</span>
<span class="key">def</span> get_passing_leaders(season=<span class="number">2024</span>, limit=<span class="number">10</span>):
    url = <span class="string">"https://nfl.wearemachina.com/api/v2/stats/leaders"</span>
    params = {
        <span class="string">"stat"</span>: <span class="string">"passing_yards"</span>,
        <span class="string">"season"</span>: season,
        <span class="string">"limit"</span>: limit
    }
    response = requests.get(url, params=params)
    <span class="key">return</span> response.json()[<span class="string">"data"</span>]
                </div>

                <h3>cURL</h3>
                <div class="code-block">
<span class="comment"># Get all teams in AFC West</span>
curl "https://nfl.wearemachina.com/api/v2/teams" | jq '.data[] | select(.conference=="AFC" and .division=="West")'

<span class="comment"># Get game details with formatted output</span>
curl -s "https://nfl.wearemachina.com/api/v2/games/game-uuid" | jq '{home: .data.home_team_name, away: .data.away_team_name, score: "\(.data.home_score)-\(.data.away_score)"}'

<span class="comment"># Get player career stats</span>
curl "https://nfl.wearemachina.com/api/v2/players/player-uuid/career"
                </div>
            </section>

            <!-- Response Format -->
            <section id="response-format" class="section">
                <h2>Response Format</h2>

                <h3>Success Response</h3>
                <div class="code-block">{
  <span class="key">"data"</span>: {<span class="comment">/* resource or array of resources */</span>},
  <span class="key">"meta"</span>: {
    <span class="key">"total"</span>: <span class="number">100</span>,        <span class="comment">// For paginated responses</span>
    <span class="key">"limit"</span>: <span class="number">50</span>,         <span class="comment">// For paginated responses</span>
    <span class="key">"offset"</span>: <span class="number">0</span>,         <span class="comment">// For paginated responses</span>
    <span class="key">"timestamp"</span>: <span class="string">"2025-10-02T12:00:00Z"</span>
  }
}</div>

                <h3>Error Response</h3>
                <div class="code-block">{
  <span class="key">"error"</span>: {
    <span class="key">"code"</span>: <span class="string">"NOT_FOUND"</span>,
    <span class="key">"message"</span>: <span class="string">"Player not found"</span>,
    <span class="key">"status"</span>: <span class="number">404</span>
  }
}</div>

                <h3>HTTP Status Codes</h3>
                <table class="params-table">
                    <tbody>
                        <tr>
                            <td><code>200</code></td>
                            <td>OK - Request successful</td>
                        </tr>
                        <tr>
                            <td><code>400</code></td>
                            <td>Bad Request - Invalid parameters</td>
                        </tr>
                        <tr>
                            <td><code>401</code></td>
                            <td>Unauthorized - Invalid API key</td>
                        </tr>
                        <tr>
                            <td><code>404</code></td>
                            <td>Not Found - Resource doesn't exist</td>
                        </tr>
                        <tr>
                            <td><code>429</code></td>
                            <td>Too Many Requests - Rate limit exceeded</td>
                        </tr>
                        <tr>
                            <td><code>500</code></td>
                            <td>Internal Server Error - Server issue</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Changelog -->
            <section id="changelog" class="section">
                <h2>Changelog</h2>

                <h3>v2.0.0 (October 2025)</h3>
                <div class="info-box success">
                    <strong>🎉 Major Release</strong>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li><strong>New Endpoints:</strong> Standings, scoring plays, defensive rankings</li>
                        <li><strong>Enhanced Data:</strong> Play-by-play with EPA/WPA, team statistics</li>
                        <li><strong>Performance:</strong> 40% faster queries with optimized indexes</li>
                        <li><strong>Database:</strong> 7 new tables, comprehensive schema</li>
                        <li><strong>Bug Fixes:</strong> Fixed stats leaders column mapping, team ID joins</li>
                        <li><strong>Documentation:</strong> Complete rewrite with interactive examples</li>
                    </ul>
                </div>

                <h3>v1.0.0 (September 2025)</h3>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Initial release with core endpoints</li>
                    <li>Players, teams, games, basic statistics</li>
                    <li>ESPN API integration</li>
                </ul>
            </section>

            <!-- Footer -->
            <div style="margin-top: 50px; padding-top: 30px; border-top: 2px solid var(--border); text-align: center; color: var(--gray);">
                <p><strong>Grid Iron Mind API v2</strong></p>
                <p style="margin-top: 10px;">Built with ❤️ for NFL enthusiasts and developers</p>
                <p style="margin-top: 10px;">
                    <a href="/" style="color: var(--primary); text-decoration: none; margin: 0 10px;">Dashboard</a> |
                    <a href="/api-docs.html" style="color: var(--primary); text-decoration: none; margin: 0 10px;">API v1 Docs</a> |
                    <a href="https://github.com" style="color: var(--primary); text-decoration: none; margin: 0 10px;">GitHub</a>
                </p>
            </div>
        </div>
    </div>

    <script>
        // Try endpoint functionality
        async function tryEndpoint() {
            const endpoint = document.getElementById('tryEndpoint').value;
            const resultDiv = document.getElementById('tryResult');
            const baseUrl = 'https://nfl.wearemachina.com/api/v2';

            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div class="loading"></div> Loading...';

            try {
                const response = await fetch(baseUrl + endpoint);
                const data = await response.json();
                resultDiv.textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                resultDiv.textContent = 'Error: ' + error.message;
            }
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Highlight active section in sidebar
        const sections = document.querySelectorAll('.section');
        const navLinks = document.querySelectorAll('.sidebar a');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });

        // Allow Enter key in try-it input
        document.getElementById('tryEndpoint').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                tryEndpoint();
            }
        });
    </script>
</body>
</html>
